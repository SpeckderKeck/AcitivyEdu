<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0f1115" />
  <title>Class-Activity Board</title>
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
<div class="wrap">
  <header>
    <div class="brand">
      <div class="title">Class-Activity Board ğŸ²</div>
      <div class="sub">Teams anlegen â€¢ wÃ¼rfeln â€¢ Karte ziehen â€¢ ohne Online-Multiplayer</div>
    </div>
    <div style="display:flex; gap:10px; align-items:center;">
      <button id="toMenuBtn" class="ghost" style="min-width:170px;">HauptmenÃ¼</button>
      <button id="hardResetBtn" class="bad" style="min-width:150px;">Reset</button>
    </div>
  </header>

  <!-- MENU -->
  <section id="menuView" class="card">
    <div style="display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap;">
      <div>
        <h2 style="margin:0 0 6px;">HauptmenÃ¼</h2>
        <div class="muted">Teams, Farben und Figuren auswÃ¤hlen. Optional: DatensÃ¤tze per CSV Ã¼berschreiben.</div>
      </div>
    </div>

    <!-- Team Settings -->
    <div class="card" style="margin:14px 0 0;">
      <div style="display:grid; grid-template-columns: 1fr 1fr; gap:12px;">
        <div>
          <div class="muted">Anzahl Teams</div>
          <select id="teamCount" style="margin-top:8px;">
            <option value="2">2 Teams</option>
            <option value="3">3 Teams</option>
            <option value="4">4 Teams</option>
          </select>
        </div>
        <div>
          <div class="muted">Start-Team</div>
          <select id="startTeam" style="margin-top:8px;">
            <option value="0">Team 1</option>
            <option value="1">Team 2</option>
            <option value="2">Team 3</option>
            <option value="3">Team 4</option>
          </select>
        </div>
      </div>

      <div style="margin-top:14px;">
        <div class="muted">Team-Namen</div>
        <div id="teamNamesWrap" class="teamsRow" style="margin-top:8px;"></div>
      </div>

      <div style="margin-top:14px;">
        <div class="muted">Figur wÃ¤hlen (pro Team)</div>
        <div id="teamTokensWrap" class="teamsRow" style="margin-top:8px;"></div>
      </div>

      <div style="margin-top:14px;">
        <div class="muted">Farbe wÃ¤hlen (pro Team)</div>
        <div id="teamColorsWrap" class="teamsRow" style="margin-top:8px;"></div>
      </div>

      <!-- Platz bleibt frei fÃ¼r 3./4. Team (kein extra Kasten rechts) -->
      <div style="display:flex; gap:10px; margin-top:16px; flex-wrap:wrap;">
        <button id="startGameBtn" class="ok" style="min-width:180px;">Spiel starten</button>
        <button id="openEditorBtn" class="ghost" style="min-width:180px;">Begriffe bearbeiten</button>
      </div>
    </div>

    <!-- Dataset Import -->
    <div class="card" style="margin:14px 0 0;">
      <h3 style="margin:0 0 10px;">DatensÃ¤tze (CSV)</h3>
      <div class="muted" style="margin-bottom:10px;">
        CSV importiert Begriffe und Ã¼berschreibt die aktuellen DatensÃ¤tze (nur auf diesem GerÃ¤t/Browser).
      </div>

      <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:center;">
        <input id="csvFile" type="file" accept=".csv,text/csv" style="max-width:360px;" />
        <button id="csvImportBtn" class="ok" style="min-width:220px;">CSV importieren (Ã¼berschreibt)</button>
        <button id="datasetsResetBtn" class="ghost" style="min-width:220px;">DatensÃ¤tze zurÃ¼cksetzen</button>
      </div>

      <div id="csvHint" class="muted" style="margin-top:10px;">
        Format A: <code>talk;draw;mime</code> (Header + Zeilen). Format B: <code>category;word</code>.
      </div>
      <div id="csvStatus" class="muted" style="margin-top:8px;"></div>
    </div>
  </section>

  <!-- GAME -->
  <section id="gameView" class="grid" style="display:none;">
    <div class="card">
      <div class="row">
        <div class="badge" id="turnBadge">Team 1 ist dran</div>
        <div class="muted" id="statusText">WÃ¼rfeln, dann Karte ziehen.</div>
      </div>

      <div class="row" style="margin-top:10px;">
        <button id="rollBtn" class="ok">ğŸ² WÃ¼rfeln</button>
        <button id="drawBtn" class="ghost">ğŸƒ Karte ziehen</button>
        <button id="nextBtn" class="ghost">â¡ï¸ NÃ¤chstes Team</button>
      </div>

      <div class="big" id="diceOut">â€“</div>

      <div class="card" style="margin-top:14px;">
        <div class="muted">Karte</div>
        <div class="cardText" id="cardOut">Ziehe eine Karteâ€¦</div>
      </div>

      <div class="row" style="margin-top:14px;">
        <button id="goodBtn" class="ok">âœ… Erledigt</button>
        <button id="badBtn" class="bad">âŒ Nicht geschafft</button>
      </div>
    </div>

    <div class="card">
      <h3 style="margin:0 0 10px;">Spielstand</h3>
      <div id="scoreWrap" class="scoreWrap"></div>

      <div style="margin-top:14px;">
        <div class="muted">Letzte Aktionen</div>
        <div id="logWrap" class="log"></div>
      </div>
    </div>
  </section>

  <!-- EDITOR -->
  <section id="editorView" class="card" style="display:none;">
    <div style="display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap;">
      <div>
        <h2 style="margin:0 0 6px;">Begriffe bearbeiten</h2>
        <div class="muted">Eine Zeile = eine Karte. Max. 2 WÃ¶rter pro Karte (z.B. â€Bremskolben RÃ¼ckstellerâ€œ).</div>
      </div>
      <div style="display:flex; gap:10px; flex-wrap:wrap;">
        <button id="saveEditorBtn" class="ok" style="min-width:160px;">Speichern</button>
        <button id="cancelEditorBtn" class="ghost" style="min-width:160px;">ZurÃ¼ck</button>
      </div>
    </div>

    <div style="margin-top:12px;">
      <div class="muted">Liste</div>
      <select id="dbSelect" style="margin-top:8px; max-width:360px;">
        <option value="kfz">KFZ</option>
        <option value="metall">Metall</option>
      </select>
    </div>

    <textarea id="editorArea" style="margin-top:12px; width:100%; min-height:340px;"></textarea>

    <div class="muted" style="margin-top:10px;">
      Hinweis: Ã„nderungen werden im Browser gespeichert (localStorage).
    </div>
  </section>

</div>

<script src="./app.js" defer></script>
</body>
</html>
